import{V as E}from"./clipboard.d2f5ce87.js";var m={exports:{}};/*! Player.js - v0.1.0 - 2017-10-24
* http://github.com/embedly/player.js
* Copyright (c) 2017 Embedly; Licensed BSD */(function(u){(function(o,l){var i={};i.DEBUG=!1,i.VERSION="0.0.11",i.CONTEXT="player.js",i.POST_MESSAGE=!!o.postMessage,i.origin=function(e){return e.substr(0,2)==="//"&&(e=o.location.protocol+e),e.split("/").slice(0,3).join("/")},i.addEvent=function(e,t,n){!e||(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},i.log=function(){i.log.history=i.log.history||[],i.log.history.push(arguments),o.console&&i.DEBUG&&o.console.log(Array.prototype.slice.call(arguments))},i.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},i.isObject=function(e){return Object.prototype.toString.call(e)==="[object Object]"},i.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"},i.isNone=function(e){return e==null},i.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.indexOf=function(e,t){if(e==null)return-1;var n=0,r=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;n<r;n++)if(e[n]===t)return n;return-1},i.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},i.Keeper=function(){this.init()},i.Keeper.prototype.init=function(){this.data={}},i.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},i.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(i.isNone(t))return!0;for(var n=this.data[e],r=0;r<n.length;r++)if(n[r].id===t)return!0;return!1},i.Keeper.prototype.add=function(e,t,n,r,s){var a={id:e,event:t,cb:n,ctx:r,one:s};this.has(t)?this.data[t].push(a):this.data[t]=[a]},i.Keeper.prototype.execute=function(e,t,n,r){if(!this.has(e,t))return!1;for(var s=[],a=[],d=0;d<this.data[e].length;d++){var f=this.data[e][d];i.isNone(t)||!i.isNone(t)&&f.id===t?(a.push({cb:f.cb,ctx:f.ctx?f.ctx:r,data:n}),f.one===!1&&s.push(f)):s.push(f)}s.length===0?delete this.data[e]:this.data[e]=s;for(var h=0;h<a.length;h++){var v=a[h];v.cb.call(v.ctx,v.data)}},i.Keeper.prototype.on=function(e,t,n,r){this.add(e,t,n,r,!1)},i.Keeper.prototype.one=function(e,t,n,r){this.add(e,t,n,r,!0)},i.Keeper.prototype.off=function(e,t){var n=[];if(!this.data.hasOwnProperty(e))return n;for(var r=[],s=0;s<this.data[e].length;s++){var a=this.data[e][s];!i.isNone(t)&&a.cb!==t?r.push(a):i.isNone(a.id)||n.push(a.id)}return r.length===0?delete this.data[e]:this.data[e]=r,n},i.Player=function(e,t){if(!(this instanceof i.Player))return new i.Player(e,t);this.init(e,t)},i.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},i.EVENTS.all=function(){var e=[];for(var t in i.EVENTS)i.has(i.EVENTS,t)&&i.isString(i.EVENTS[t])&&e.push(i.EVENTS[t]);return e},i.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},i.METHODS.all=function(){var e=[];for(var t in i.METHODS)i.has(i.METHODS,t)&&i.isString(i.METHODS[t])&&e.push(i.METHODS[t]);return e},i.READIED=[],i.Player.prototype.init=function(e,t){var n=this;i.isString(e)&&(e=l.getElementById(e)),this.elem=e,i.assert(e.nodeName==="IFRAME",'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),i.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=i.origin(e.src),this.keeper=new i.Keeper,this.isReady=!1,this.queue=[],this.events=i.EVENTS.all(),this.methods=i.METHODS.all(),i.POST_MESSAGE?i.addEvent(o,"message",function(r){n.receive(r)}):i.log("Post Message is not Available."),i.indexOf(i.READIED,e.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},i.Player.prototype.send=function(e,t,n){if(e.context=i.CONTEXT,e.version=i.VERSION,t){var r=this.keeper.getUUID();e.listener=r,this.keeper.one(r,e.method,t,n)}return!this.isReady&&e.value!=="ready"?(i.log("Player.queue",e),this.queue.push(e),!1):(i.log("Player.send",e,this.origin),this.loaded===!0&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0)},i.Player.prototype.receive=function(e){if(i.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch{return!1}if(t.context!==i.CONTEXT)return!1;t.event==="ready"&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},i.Player.prototype.ready=function(e){if(this.isReady===!0)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var n=this.queue[t];i.log("Player.dequeue",n),e.event==="ready"&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},i.Player.prototype.on=function(e,t,n){var r=this.keeper.getUUID();return e==="ready"?this.keeper.one(r,e,t,n):this.keeper.on(r,e,t,n),this.send({method:"addEventListener",value:e,listener:r}),!0},i.Player.prototype.off=function(e,t){var n=this.keeper.off(e,t);if(i.log("Player.off",n),n.length>0)for(var r in n)return this.send({method:"removeEventListener",value:e,listener:n[r]}),!0;return!1},i.Player.prototype.supports=function(e,t){i.assert(i.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=i.isArray(t)?t:[t];for(var n=e==="event"?this.events:this.methods,r=0;r<t.length;r++)if(i.indexOf(n,t[r])===-1)return!1;return!0};function g(e){return function(){var t={method:e},n=Array.prototype.slice.call(arguments);/^get/.test(e)?(i.assert(n.length>0,"Get methods require a callback."),n.unshift(t)):(/^set/.test(e)&&(i.assert(n.length!==0,"Set methods require a value."),t.value=n[0]),n=[t]),this.send.apply(this,n)}}for(var c=0,y=i.METHODS.all().length;c<y;c++){var p=i.METHODS.all()[c];i.Player.prototype.hasOwnProperty(p)||(i.Player.prototype[p]=g(p))}i.addEvent(o,"message",function(e){var t;try{t=JSON.parse(e.data)}catch{return!1}if(t.context!==i.CONTEXT)return!1;t.event==="ready"&&t.value&&t.value.src&&i.READIED.push(t.value.src)}),i.Receiver=function(e,t){this.init(e,t)},i.Receiver.prototype.init=function(e,t){var n=this;this.isReady=!1,this.origin=i.origin(l.referrer),this.methods={},this.supported={events:e||i.EVENTS.all(),methods:t||i.METHODS.all()},this.eventListeners={},this.reject=!(o.self!==o.top&&i.POST_MESSAGE),this.reject||i.addEvent(o,"message",function(r){n.receive(r)})},i.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(i.isObject(e.data))t=e.data;else try{t=o.JSON.parse(e.data)}catch(s){i.log("JSON Parse Error",s)}if(i.log("Receiver.receive",e,t),!t.method||t.context!==i.CONTEXT)return!1;if(i.indexOf(i.METHODS.all(),t.method)===-1)return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var n=i.isNone(t.listener)?null:t.listener;if(t.method==="addEventListener")this.eventListeners.hasOwnProperty(t.value)?i.indexOf(this.eventListeners[t.value],n)===-1&&this.eventListeners[t.value].push(n):this.eventListeners[t.value]=[n],t.value==="ready"&&this.isReady&&this.ready();else if(t.method==="removeEventListener"){if(this.eventListeners.hasOwnProperty(t.value)){var r=i.indexOf(this.eventListeners[t.value],n);r>-1&&this.eventListeners[t.value].splice(r,1),this.eventListeners[t.value].length===0&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,n)},i.Receiver.prototype.get=function(e,t,n){var r=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var s=this.methods[e];if(e.substr(0,3)==="get"){var a=function(d){r.send(e,d,n)};s.call(this,a)}else s.call(this,t)},i.Receiver.prototype.on=function(e,t){this.methods[e]=t},i.Receiver.prototype.send=function(e,t,n){if(i.log("Receiver.send",e,t,n),this.reject)return i.log("Receiver.send.reject",e,t,n),!1;var r={context:i.CONTEXT,version:i.VERSION,event:e};i.isNone(t)||(r.value=t),i.isNone(n)||(r.listener=n);var s=JSON.stringify(r);o.parent.postMessage(s,this.origin===""?"*":this.origin)},i.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;i.log("Instance.emit",e,t,this.eventListeners[e]);for(var n=0;n<this.eventListeners[e].length;n++){var r=this.eventListeners[e][n];this.send(e,t,r)}return!0},i.Receiver.prototype.ready=function(){i.log("Receiver.ready"),this.isReady=!0;var e={src:o.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},i.HTML5Adapter=function(e){if(!(this instanceof i.HTML5Adapter))return new i.HTML5Adapter(e);this.init(e)},i.HTML5Adapter.prototype.init=function(e){i.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new i.Receiver;e.addEventListener("playing",function(){t.emit("play")}),e.addEventListener("pause",function(){t.emit("pause")}),e.addEventListener("ended",function(){t.emit("ended")}),e.addEventListener("timeupdate",function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})}),e.addEventListener("progress",function(){t.emit("buffered",{percent:e.buffered.length})}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(n){n(e.paused)}),t.on("getCurrentTime",function(n){n(e.currentTime)}),t.on("setCurrentTime",function(n){e.currentTime=n}),t.on("getDuration",function(n){n(e.duration)}),t.on("getVolume",function(n){n(e.volume*100)}),t.on("setVolume",function(n){e.volume=n/100}),t.on("mute",function(){e.muted=!0}),t.on("unmute",function(){e.muted=!1}),t.on("getMuted",function(n){n(e.muted)}),t.on("getLoop",function(n){n(e.loop)}),t.on("setLoop",function(n){e.loop=n})},i.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},i.JWPlayerAdapter=function(e){if(!(this instanceof i.JWPlayerAdapter))return new i.JWPlayerAdapter(e);this.init(e)},i.JWPlayerAdapter.prototype.init=function(e){i.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new i.Receiver;this.looped=!1,e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("time",function(r){var s=r.position,a=r.duration;if(!s||!a)return!1;var d={seconds:s,duration:a};t.emit("timeupdate",d)});var n=this;e.on("complete",function(){n.looped===!0?e.seek(0):t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play(!0)}),t.on("pause",function(){e.pause(!0)}),t.on("getPaused",function(r){r(e.getState().toLowerCase()!=="PLAYING".toLowerCase())}),t.on("getCurrentTime",function(r){r(e.getPosition())}),t.on("setCurrentTime",function(r){e.seek(r)}),t.on("getDuration",function(r){r(e.getDuration())}),t.on("getVolume",function(r){r(e.getVolume())}),t.on("setVolume",function(r){e.setVolume(r)}),t.on("mute",function(){e.setMute(!0)}),t.on("unmute",function(){e.setMute(!1)}),t.on("getMuted",function(r){r(e.getMute()===!0)}),t.on("getLoop",function(r){r(this.looped)},this),t.on("setLoop",function(r){this.looped=r},this)},i.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},i.MockAdapter=function(){if(!(this instanceof i.MockAdapter))return new i.MockAdapter;this.init()},i.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval(function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})},250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new i.Receiver;t.on("play",function(){var n=this;e.play(),this.emit("play"),e.timeupdate=function(r){n.emit("timeupdate",r)}}),t.on("pause",function(){e.pause(),this.emit("pause")}),t.on("getPaused",function(n){n(!e.playing)}),t.on("getCurrentTime",function(n){n(e.currentTime)}),t.on("setCurrentTime",function(n){e.currentTime=n}),t.on("getDuration",function(n){n(e.duration)}),t.on("getVolume",function(n){n(e.volume)}),t.on("setVolume",function(n){e.volume=n}),t.on("mute",function(){e.mute=!0}),t.on("unmute",function(){e.mute=!1}),t.on("getMuted",function(n){n(e.mute)}),t.on("getLoop",function(n){n(e.loop)}),t.on("setLoop",function(n){e.loop=n})},i.MockAdapter.prototype.ready=function(){this.receiver.ready()},i.VideoJSAdapter=function(e){if(!(this instanceof i.VideoJSAdapter))return new i.VideoJSAdapter(e);this.init(e)},i.VideoJSAdapter.prototype.init=function(e){i.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new i.Receiver;e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("timeupdate",function(n){var r=e.currentTime(),s=e.duration();if(!r||!s)return!1;var a={seconds:r,duration:s};t.emit("timeupdate",a)}),e.on("ended",function(){t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(n){n(e.paused())}),t.on("getCurrentTime",function(n){n(e.currentTime())}),t.on("setCurrentTime",function(n){e.currentTime(n)}),t.on("getDuration",function(n){n(e.duration())}),t.on("getVolume",function(n){n(e.volume()*100)}),t.on("setVolume",function(n){e.volume(n/100)}),t.on("mute",function(){e.volume(0)}),t.on("unmute",function(){e.volume(1)}),t.on("getMuted",function(n){n(e.volume()===0)}),t.on("getLoop",function(n){n(e.loop())}),t.on("setLoop",function(n){e.loop(n)})},i.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},u.exports?u.exports=i:o.playerjs=i})(window,document)})(m);const T=m.exports;window.convertTimeHHMMSS=u=>{let o=new Date(u*1e3).toISOString().substr(11,8);return o.indexOf("00:")===0?o.substr(3):o};new E({el:"#player",props:{file:{type:String,default:null},cover:{type:String,default:null},title:{type:String,default:null},podcast:{type:String,default:null},season:{type:Number,default:null},episode:{type:String,default:null},autoPlay:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},speed:{type:Number,default:100}},data:()=>({audio:void 0,currentSeconds:0,durationSeconds:0,cover_url:"",innerLoop:!1,loaded:!1,playing:!1,previousVolume:35,showVolume:!1,volume:100}),computed:{currentTime(){return convertTimeHHMMSS(this.currentSeconds)},durationTime(){return convertTimeHHMMSS(this.durationSeconds)},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)}},watch:{playing(u){var o=this;if(!this.audio.readyState)this.audio.load(),this.audio.onloadeddata=function(){o.playing=!0};else{if(u)return this.audio.play();this.audio.pause()}},volume(u){this.showVolume=!1,this.audio.volume=this.volume/100},speed(){}},methods:{load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=this.autoPlay;throw new Error("Failed to load sound file.")},mute(){if(this.muted){this.unmute();return}this.previousVolume=this.volume,this.volume=0,this.muted=!0},unmute(){this.muted=!1,this.volume=this.previousVolume},seek(u){if(u.target.tagName==="SPAN")return;const o=u.target.getBoundingClientRect(),l=(u.clientX-o.left)/o.width;this.audio.currentTime=parseInt(this.audio.duration*l)},setSpeed(u){this.speed=u,this.audio.playbackRate=this.speed/100,console.log(this.audio.playbackRate)},pause(){this.audio.pause()},stop(){this.playing=!1,this.audio.currentTime=0},update(u){this.currentSeconds=parseInt(this.audio.currentTime)}},created(){this.innerLoop=this.loop},mounted(){const u=PlayerData;console.log(u),this.podcast=u.podcast,this.title=u.title,this.episode=u.episode,this.cover=u.cover_url,this.file=u.file_url,this.audio=this.$el.querySelectorAll("audio")[0],this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("pause",()=>{this.playing=!1}),this.audio.addEventListener("play",()=>{this.playing=!0});const o=new T.Receiver;this.audio.addEventListener("ended",()=>o.emit("ended")),this.audio.addEventListener("timeupdate",()=>{o.emit("timeupdate",{seconds:this.audio.currentTime,duration:this.audio.duration})}),o.on("play",()=>{this.audio.play(),o.emit("play")}),o.on("pause",()=>{this.audio.pause(),o.emit("pause")}),o.on("getDuration",l=>l(this.audio.duration)),o.on("getVolume",l=>l(this.audio.volume*100)),o.on("setVolume",l=>this.audio.volume=l/100),o.on("getPaused",()=>!this.audio.playing),o.on("mute",()=>this.audio.mute()),o.on("unmute",()=>this.audio.unmute()),o.on("getMuted",l=>l(this.audio.muted)),o.on("getLoop",l=>l(this.audio.loop)),o.on("setLoop",l=>this.audio.loop=l),o.ready()}});
